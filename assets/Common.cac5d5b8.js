import{g as M,j as S,k as fe,_ as L,f as x,o as s,c as v,a as c,i as a,l as _e,r as O,m as P,v as R,d as f,n as ke,p as U,q as re,t as H,s as le,x as C,y as E,h as N,w as D,z as I,T as we,A as ie,B as T,C as X,D as ue,F as q,E as j,G as z,H as J,I as Y,J as ce,u as de,K as $e,L as ye,M as Se,N as Te,e as Ie,O as ve,P as Le}from"./app.9a56070a.js";const oe=p=>decodeURI(p).replace(/#.*$/,"").replace(/(index)?\.(md|html)$/,""),xe=(p,e)=>{if(e.hash===p)return!0;const t=oe(e.path),r=oe(p);return t===r},pe=(p,e)=>p.link&&xe(p.link,e)?!0:p.children?p.children.some(t=>pe(t,e)):!1,Ce=()=>{const p=M(),e=fe();return S(()=>e.value.frontmatter.layout==="Post"&&e.value.frontmatter.catalog!==!1&&(p.value.catalog||e.value.frontmatter.catalog)&&e.value.headers.length>0)},Ne={class:"footer"},Be=["innerHTML"],Ve=x({__name:"Footer",setup(p){const t=M().value.footer;return(r,o)=>(s(),v("footer",Ne,[c("span",{innerHTML:a(t)},null,8,Be)]))}});var Me=L(Ve,[["__file","Footer.vue"]]);const Oe=["title"],De=x({__name:"ToggleDarkModeButton",setup(p){const e=["light","dark","auto"],t=M(),{currentMode:r}=_e(),o=()=>{const _=(e.indexOf(r.value)+1)%e.length;r.value=e[_]};return(m,_)=>{const h=O("VIcon");return s(),v("div",{class:"toggle-dark-button",title:a(t).toggleDarkMode,onClick:o},[P(f(h,{name:"fa-sun"},null,512),[[R,a(r)==="light"]]),P(f(h,{name:"fa-moon"},null,512),[[R,a(r)==="dark"]]),P(f(h,{name:"fa-magic"},null,512),[[R,a(r)==="auto"]])],8,Oe)}}});var Ee=L(De,[["__file","ToggleDarkModeButton.vue"]]);const Pe=["title"],Re=x({__name:"ToggleSidebarButton",emits:["toggle"],setup(p){const e=M();return(t,r)=>{const o=O("VIcon");return s(),v("div",{class:"toggle-sidebar-button",title:a(e).toggleSidebar,"aria-expanded":"false",role:"button",tabindex:"0",onClick:r[0]||(r[0]=m=>t.$emit("toggle"))},[f(o,{name:"bi-layout-sidebar-inset"})],8,Pe)}}});var He=L(Re,[["__file","ToggleSidebarButton.vue"]]);const Fe={class:"menu-btn-wrapper"},Ae={class:"menu-btn-icon"},qe=c("span",null,null,-1),We=c("span",null,null,-1),Ke=c("span",null,null,-1),ze=[qe,We,Ke],je={class:"menu-progress"},Ye={class:"menu-btn-child-wrapper"},Ge=x({__name:"Menu",emits:["toggle-sidebar","toggle-catalog"],setup(p){const e=ke({isMenuOpen:!1,isTextVisible:!1,isBtnIconVisible:!0,menuText:"0",borderLen:"0% 314.15926%"});U(()=>{window.addEventListener("scroll",t)}),re(()=>{window.removeEventListener("scroll",t)});const t=()=>{const i=window.pageYOffset,l=_(),w=document.documentElement.clientHeight;let n=i/(l-w)*100;n>100&&(n=100),isNaN(n)||Math.round(n)<=0?(n=0,e.isTextVisible=!1,e.isBtnIconVisible=!0):(e.isTextVisible=!0,e.menuText=Math.round(n)+"%",e.isBtnIconVisible=!1),e.borderLen=3.1415926*(n||0)+"% 314.15926%"},r=()=>{e.isMenuOpen=!e.isMenuOpen},o=()=>{window.scrollTo({top:0,behavior:"smooth"})},m=()=>{window.scrollTo({top:_(),behavior:"smooth"})},_=()=>{const i=document.querySelector(".theme-container");return i?i.offsetHeight:0},h=Ce();return(i,l)=>{const w=O("VIcon");return s(),v("div",{class:E(["menu-btn-container",{open:e.isMenuOpen}])},[c("div",Fe,[c("div",{class:"menu-btn",onClick:r},[P(c("div",Ae,ze,512),[[R,e.isBtnIconVisible]]),P(c("div",{class:"menu-text"},H(e.menuText),513),[[R,e.isTextVisible]]),(s(),v("svg",je,[c("circle",{class:"menu-border",cx:"50%",cy:"50%",r:"48%",style:le({"stroke-dasharray":e.borderLen})},null,4)]))]),c("div",Ye,[f(Ee,{class:"menu-btn-child"}),c("div",{class:"menu-btn-child",onClick:m},[f(w,{name:"fa-chevron-down",scale:"1.5"})]),c("div",{class:"menu-btn-child",onClick:o},[f(w,{name:"fa-chevron-up"})]),a(h)?(s(),v("div",{key:0,class:"menu-btn-child menu-toc-btn",onClick:l[0]||(l[0]=n=>i.$emit("toggle-catalog"))},[f(w,{name:"fa-list-ul"})])):C("",!0),f(He,{class:"menu-btn-child menu-btn-sidebar",onToggle:l[1]||(l[1]=n=>i.$emit("toggle-sidebar"))})])])],2)}}});var Ue=L(Ge,[["__file","Menu.vue"]]);const Xe=x({__name:"DropdownTransition",setup(p){const e=r=>{r.style.height=r.scrollHeight+"px"},t=r=>{r.style.height=""};return(r,o)=>(s(),N(we,{name:"dropdown",onEnter:e,onAfterEnter:t,onBeforeLeave:e},{default:D(()=>[I(r.$slots,"default")]),_:3}))}});var ge=L(Xe,[["__file","DropdownTransition.vue"]]);const Je=["aria-label"],Qe={class:"title"},Ze={key:0,class:"nav-icon"},et=c("span",{class:"arrow down"},null,-1),tt=["aria-label"],nt={class:"title"},at={key:0,class:"nav-icon"},st={class:"navbar-dropdown"},ot={class:"navbar-dropdown-subtitle"},rt={key:1},lt={class:"navbar-navbar-dropdown-subitem-wrapper"},it=x({__name:"NavbarDropdown",props:{item:{type:Object,required:!0}},setup(p){const e=p,{item:t}=ie(e),r=S(()=>t.value.ariaLabel||t.value.text),o=T(!1),m=X();ue(()=>m.path,()=>{o.value=!1});const _=i=>{i.detail===0?o.value=!o.value:o.value=!1},h=(i,l)=>l[l.length-1]===i;return(i,l)=>{const w=O("VIcon");return s(),v("div",{class:E(["navbar-dropdown-wrapper",{open:o.value}])},[c("button",{class:"navbar-dropdown-title",type:"button","aria-label":a(r),onClick:_},[c("span",Qe,[a(t).icon?(s(),v("span",Ze,[f(w,{name:a(t).icon},null,8,["name"])])):C("",!0),c("span",null,H(a(t).text),1)]),et],8,Je),c("button",{class:"navbar-dropdown-title-mobile",type:"button","aria-label":a(r),onClick:l[0]||(l[0]=n=>o.value=!o.value)},[c("span",nt,[a(t).icon?(s(),v("span",at,[f(w,{name:a(t).icon},null,8,["name"])])):C("",!0),c("span",null,H(a(t).text),1)]),c("span",{class:E(["arrow",o.value?"down":"right"])},null,2)],8,tt),f(ge,null,{default:D(()=>[P(c("ul",st,[(s(!0),v(q,null,j(a(t).children,n=>(s(),v("li",{key:n.text,class:"navbar-dropdown-item"},[n.children?(s(),v(q,{key:0},[c("h4",ot,[n.link?(s(),N(z,{key:0,item:n,onFocusout:k=>h(n,a(t).children)&&n.children.length===0&&(o.value=!1)},null,8,["item","onFocusout"])):(s(),v("span",rt,H(n.text),1))]),c("ul",lt,[(s(!0),v(q,null,j(n.children,k=>(s(),v("li",{key:k.link,class:"navbar-dropdown-subitem"},[f(z,{item:k,onFocusout:$=>h(k,n.children)&&h(n,a(t).children)&&(o.value=!1)},null,8,["item","onFocusout"])]))),128))])],64)):(s(),N(z,{key:1,item:n,onFocusout:k=>h(n,a(t).children)&&(o.value=!1)},null,8,["item","onFocusout"]))]))),128))],512),[[R,o.value]])]),_:1})],2)}}});var ut=L(it,[["__file","NavbarDropdown.vue"]]);const ct={key:0,class:"navbar-items"},dt={key:0,class:"navbar-item"},vt={key:0,class:"nav-icon"},pt=x({__name:"NavbarItems",emits:["toggle-search"],setup(p){const e=()=>{const n=Y(),k=de(),$=$e(),g=M();return S(()=>{var u,d;const B=Object.keys($.value.locales);if(B.length<2)return[];const F=n.currentRoute.value.path,A=n.currentRoute.value.fullPath;return[{text:(u=g.value.selectLanguageText)!=null?u:"unknown language",ariaLabel:(d=g.value.selectLanguageAriaLabel)!=null?d:"unknown language",icon:g.value.langIcon,children:B.map(y=>{var Q,Z,ee,te,ne,ae;const V=(Z=(Q=$.value.locales)==null?void 0:Q[y])!=null?Z:{},W=(te=(ee=g.value.locales)==null?void 0:ee[y])!=null?te:{},K=`${V.lang}`,he=(ne=W.selectLanguageName)!=null?ne:K;let G;if(K===$.value.lang)G=A;else{const se=F.replace(k.value,y);n.getRoutes().some(be=>be.path===se)?G=se:G=(ae=W.home)!=null?ae:y}return{text:he,link:G}})}]})},t=n=>ye(n)?Se(n):n.children?{...n,children:n.children.map(t)}:n,o=(()=>{const n=M();return S(()=>(n.value.navbar||[]).map(t))})(),m=e(),_=S(()=>[...o.value,...i.value?m.value:[]]),h=J(),i=S(()=>{const k=Y().currentRoute.value.path;return h.value.layout===void 0&&k.indexOf("/page/")===-1&&ce.value.path!==""}),l=M(),w=S(()=>l.value.search&&h.value.search!==!1);return(n,k)=>{const $=O("VIcon");return a(_).length?(s(),v("nav",ct,[(s(!0),v(q,null,j(a(_),g=>(s(),v("div",{key:g.text,class:"navbar-item"},[g.children?(s(),N(ut,{key:0,item:g},null,8,["item"])):(s(),N(z,{key:1,item:g},null,8,["item"]))]))),128)),a(w)?(s(),v("div",dt,[c("a",{style:{cursor:"pointer"},onClick:k[0]||(k[0]=g=>n.$emit("toggle-search"))},[a(l).searchIcon?(s(),v("span",vt,[f($,{name:a(l).searchIcon},null,8,["name"])])):C("",!0),c("span",null,H(a(l).searchText),1)])])):C("",!0)])):C("",!0)}}});var me=L(pt,[["__file","NavbarItems.vue"]]);const gt={class:"site-name"},mt=x({__name:"Navbar",props:{isSidebar:{type:Boolean,required:!0}},emits:["toggle-search"],setup(p){de();const e=M(),t=J(),r=Y(),o=T(null),m=T(null),_=S(()=>e.value.home||"/"),h=S(()=>e.value.navbarTitle),i=T(0),l=S(()=>i.value?{maxWidth:i.value+"px"}:{}),w=T(0),n=T(!1),k=T(!1),$=T(!0),g=()=>{const b=window.pageYOffset;b<w.value?b>0&&n.value?k.value=!0:(k.value=!1,n.value=!1):(k.value=!1,o.value&&b>o.value.offsetHeight&&(n.value=!0)),w.value=b},B=()=>{let b=!1;t.value.layout==="HomePage"&&(b=!0),t.value.layout==="Post"&&t.value.useHeaderImage&&(b=!0),t.value.layout==="Tags"&&e.value.pages&&e.value.pages.tags&&e.value.pages.tags.bgImage&&(b=!0),t.value.layout==="Links"&&e.value.pages&&e.value.pages.links&&e.value.pages.links.bgImage&&(b=!0),$.value=b};let F;U(()=>{const u=A(o.value,"paddingLeft")+A(o.value,"paddingRight"),d=()=>{var y;window.innerWidth<=719||!o.value?i.value=0:i.value=o.value.offsetWidth-u-(((y=m.value)==null?void 0:y.offsetWidth)||0)};d(),window.addEventListener("resize",d,!1),window.addEventListener("orientationchange",d,!1),B(),F=r.afterEach(()=>{B()}),window.addEventListener("scroll",g)}),re(()=>{window.removeEventListener("scroll",g),F()});function A(b,u){var V,W,K;const d=(K=(W=(V=b==null?void 0:b.ownerDocument)==null?void 0:V.defaultView)==null?void 0:W.getComputedStyle(b,null))==null?void 0:K[u],y=Number.parseInt(d,10);return Number.isNaN(y)?0:y}return(b,u)=>{const d=O("RouterLink"),y=O("NavbarSearch");return s(),v("header",{ref_key:"navbar",ref:o,class:E(["navbar",{"is-fixed":n.value||p.isSidebar,"is-visible":k.value||p.isSidebar,invert:$.value}])},[c("span",{ref_key:"navbarBrand",ref:m},[f(d,{to:a(_)},{default:D(()=>[c("span",gt,H(a(h)),1)]),_:1},8,["to"])],512),c("div",{class:"navbar-items-wrapper",style:le(a(l))},[I(b.$slots,"before"),f(me,{class:"can-hide",onToggleSearch:u[0]||(u[0]=V=>b.$emit("toggle-search"))}),I(b.$slots,"after"),f(y)],4)],2)}}});var ht=L(mt,[["__file","Navbar.vue"]]);const bt={class:"sidebar-item-children"},ft=x({__name:"SidebarItem",props:{item:{type:Object,required:!0},depth:{type:Number,required:!1,default:0}},setup(p){const e=p,{item:t,depth:r}=ie(e),o=X(),m=Y(),_=S(()=>pe(t.value,o)),h=S(()=>({"sidebar-item":!0,"sidebar-heading":r.value===0,active:_.value,collapsible:t.value.collapsible})),i=T(!0),l=T(void 0);return t.value.collapsible&&(i.value=_.value,l.value=()=>{i.value=!i.value},m.afterEach(()=>{i.value=_.value})),(w,n)=>{var $;const k=O("SidebarItem",!0);return s(),v("li",null,[a(t).link?(s(),N(z,{key:0,class:E(a(h)),item:a(t)},null,8,["class","item"])):(s(),v("p",{key:1,tabindex:"0",class:E(a(h)),onClick:n[0]||(n[0]=(...g)=>l.value&&l.value(...g)),onKeydown:n[1]||(n[1]=Te((...g)=>l.value&&l.value(...g),["enter"]))},[Ie(H(a(t).text)+" ",1),a(t).collapsible?(s(),v("span",{key:0,class:E(["arrow",i.value?"down":"right"])},null,2)):C("",!0)],34)),($=a(t).children)!=null&&$.length?(s(),N(ge,{key:2},{default:D(()=>[P(c("ul",bt,[(s(!0),v(q,null,j(a(t).children,g=>(s(),N(k,{key:`${a(r)}${g.text}${g.link}`,item:g,depth:a(r)+1},null,8,["item","depth"]))),128))],512),[[R,i.value]])]),_:1})):C("",!0)])}}});var _t=L(ft,[["__file","SidebarItem.vue"]]);const kt={key:0,class:"sidebar-items"},wt=x({__name:"SidebarItems",setup(p){const e=X(),t=ve();return U(()=>{ue(()=>e.hash,r=>{const o=document.querySelector(".sidebar");if(!o)return;const m=document.querySelector(`.sidebar a.sidebar-item[href="${e.path}${r}"]`);if(!m)return;const{top:_,height:h}=o.getBoundingClientRect(),{top:i,height:l}=m.getBoundingClientRect();i<_?m.scrollIntoView(!0):i+l>_+h&&m.scrollIntoView(!1)})}),(r,o)=>a(t).length?(s(),v("ul",kt,[(s(!0),v(q,null,j(a(t),m=>(s(),N(_t,{key:m.link||m.text,item:m},null,8,["item"]))),128))])):C("",!0)}});var $t=L(wt,[["__file","SidebarItems.vue"]]);const yt={class:"sidebar"},St=x({__name:"Sidebar",emits:["toggle-search"],setup(p){return(e,t)=>(s(),v("aside",yt,[f(me,{onToggleSearch:t[0]||(t[0]=r=>e.$emit("toggle-search"))}),I(e.$slots,"top"),f($t),I(e.$slots,"bottom")]))}});var Tt=L(St,[["__file","Sidebar.vue"]]);const It={class:"page-content"},Lt=x({__name:"Common",setup(p){const e=J(),t=M(),r=Y(),o=S(()=>e.value.navbar!==!1&&t.value.navbar!==!1),m=S(()=>ce.value.path===""),_=ve(),h=S(()=>_.value.length>0&&!m.value),i=T(!1),l=u=>{i.value=typeof u=="boolean"?u:!i.value},w={x:0,y:0},n=u=>{w.x=u.changedTouches[0].clientX,w.y=u.changedTouches[0].clientY},k=u=>{const d=u.changedTouches[0].clientX-w.x,y=u.changedTouches[0].clientY-w.y;Math.abs(d)>Math.abs(y)&&Math.abs(d)>40&&(d>0&&w.x<=80?l(!0):l(!1))},$=T(!1),g=u=>{$.value=typeof u=="boolean"?u:!$.value;const d=document.querySelector("html");$.value?d==null||d.classList.add("fixed"):d==null||d.classList.remove("fixed"),$.value&&setTimeout(function(){document.querySelector(".search-page input").focus()},400)},B=T(!1),F=u=>{B.value=typeof u=="boolean"?u:!B.value},A=S(()=>[{"no-navbar":!o.value,"no-sidebar":!h.value,"sidebar-open":i.value,"catalog-open":B.value,"search-open":$.value},e.value.pageClass]);let b;return U(()=>{b=r.afterEach(()=>{l(!1),g(!1)})}),Le(()=>{b()}),(u,d)=>{const y=O("GungnirSearchPage");return s(),v("div",{class:E(["theme-container",a(A)]),onTouchstart:n,onTouchend:k},[I(u.$slots,"navbar",{},()=>[a(o)?(s(),N(ht,{key:0,"is-sidebar":a(h),onToggleSearch:d[0]||(d[0]=V=>g(!0))},{before:D(()=>[I(u.$slots,"navbar-before")]),after:D(()=>[I(u.$slots,"navbar-after")]),_:3},8,["is-sidebar"])):C("",!0)]),c("div",{class:"sidebar-mask",onClick:d[1]||(d[1]=V=>l(!1))}),I(u.$slots,"sidebar",{},()=>[f(Tt,{onToggleSearch:d[2]||(d[2]=V=>g(!0))},{top:D(()=>[I(u.$slots,"sidebar-top")]),bottom:D(()=>[I(u.$slots,"sidebar-bottom")]),_:3})]),c("div",It,[I(u.$slots,"page")]),f(y,{onToggleSearch:d[3]||(d[3]=V=>g(!1))}),f(Ue,{onToggleSidebar:l,onToggleCatalog:F}),a(h)?C("",!0):(s(),N(Me,{key:0}))],34)}}});var Ct=L(Lt,[["__file","Common.vue"]]);export{Ct as C,Ce as u};
