---
layout: Post  
title: ES2015æ¢³ç†   
subtitle: è¿™æ¬¡çœŸçš„çœŸçš„çœŸçš„å¥½å¥½ç†ä¸€ä¸‹ğŸ˜†  
author: Wak  
date: 2022-05-17  
useHeaderImage: true  
headerImage: /img/pages/page06.webp  
tags:
- JavaScript
---

ä¸»è¦æ¢³ç†ä¸€ä¸‹ES2015çš„æ¯”è¾ƒå¸¸ç”¨çš„æ–°ç‰¹æ€§,æŸ¥ç¼ºè¡¥æ¼

<!-- more -->

## ECMAScriptå’ŒJavaScript
ç®€è€Œè¨€ä¹‹,ECMAScriptæ˜¯JavaScriptçš„å­é›†,åªæ˜¯è§„èŒƒäº†è¯­è¨€å±‚é¢ä¸Šçš„ä¸€äº›åŸºç¡€ç”¨æ³•,JavaScriptåˆ™å¯¹å…¶è¿›è¡Œäº†æ‰©å±•ã€‚  è€Œåœ¨Webå’ŒNodeä¸­,JavaScriptä¹Ÿæœ‰æ‰€ä¸åŒ,å¯ä»¥ä½¿ç”¨çš„èƒ½åŠ›ä¹Ÿæœ‰æ‰€ä¸åŒ,å…·ä½“è§ä¸‹å›¾:  
![img.png](../.vuepress/public/img/article/ES2015/web-javascript.png)
![img.png](../.vuepress/public/img/article/ES2015/node-javascript.png)  
  
ES2015æ˜¯æŒ‡2015å¹´å‘å¸ƒçš„ECMAScriptæ ‡å‡†,å› ä¸ºå…¶è·ç¦»ä¸Šä¸€ç‰ˆæœ¬(2011)å‘å¸ƒ,é—´éš”æ—¶é—´é•¿,æ–°å¢ç‰¹æ€§å¤š,è¢«å¹¿å¤§å‰ç«¯eræ‰€ç†ŸçŸ¥,ä¹Ÿæ˜¯ä»è¿™ä¸€å¹´èµ·,ECMAScriptæ ‡å‡†å°†ä¸å†ä»¥ç‰ˆæœ¬å·å‘½å,ç»Ÿä¸€ä»¥å¹´ä»½å‘½åã€‚ä¹‹åçš„ECMAScriptä¹Ÿå°†ä¼šä»¥1å¹´ä¸ºå‘¨æœŸå‘å¸ƒæ–°ç‰¹æ€§ã€‚  
  
ES2015ä¸»è¦è§£å†³æˆ–è€…è¯´æ”¹å–„çš„æœ‰è¿™å‡ ä¸ªæ–¹é¢:  
1. æ”¹å–„åŸæœ‰è¯­æ³•çš„ä¸è¶³æˆ–ç¼ºé™·
2. å¯¹åŸæœ‰è¯­æ³•è¿›è¡Œå¢å¼º
3. å…¨æ–°çš„å¯¹è±¡,æ–¹æ³•,åŠŸèƒ½
4. å…¨æ–°æ•°æ®ç±»å‹å’Œæ•°æ®ç»“æ„
  
## å—çº§ä½œç”¨åŸŸ,let,const
#### ES2015ä¹‹å‰çš„ä½œç”¨åŸŸ
ES2015ä¹‹å‰åªæœ‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸã€‚ES2015æ–°å¢äº†å—çº§ä½œç”¨åŸŸ

#### å—
`{...}`åŒå¤§æ‹¬å·åŒ…è£¹èµ·æ¥çš„åŒºåŸŸ
```javascript
if(true){
  var a = 'aaa'
}
if(true){
  let b = 'bbb'
}
console.log(a) //'aaa'
console.log(b) // error
```
varä¼šå˜é‡æå‡è‡³å…¨å±€ä½œç”¨åŸŸ,æ‰€ä»¥console.logå¯ä»¥æ‹¿åˆ°aã€‚
letå£°æ˜ä¸ä¼šæå‡,å¿…é¡»è¦å…ˆå£°æ˜å†ä½¿ç”¨,åœ¨å—çº§ä½œç”¨åŸŸä¹‹å¤–ä¹Ÿä¸å¯å¼•ç”¨,

#### const
ç›¸æ¯”äºlet,å¤šäº†ä¸€ä¸ªåªè¯»ç‰¹æ€§,å˜é‡ä¸€æ—¦å£°æ˜å°±ä¸å¯ä»¥ä¿®æ”¹äº†
```javascript
const name //Uncaught SyntaxError: Missing initializer in const declaration
const age = 18
age = 19//Uncaught TypeError: Assignment to constant variable.
```
æœ‰ä¸€ä¸ªç»†èŠ‚:  
```javascript
const obj = {}
obj.name = 'xiao ming'
console.log(obj) //{name: 'xiao ming'}
obj = {} //Uncaught TypeError: Assignment to constant variable.

const arr = []
arr.push(1) // [1]
arr = [] //Uncaught TypeError: Assignment to constant variable.
```
å½“å£°æ˜ä¸€ä¸ªå¼•ç”¨ç±»å‹æ—¶,ä¸å¯æ›´æ”¹çš„æ˜¯æ˜¯å˜é‡çš„å†…å­˜åœ°å€,å¯¹è±¡å†…éƒ¨çš„å€¼æ˜¯å¯ä»¥è¢«ä¿®æ”¹çš„

#### æœ€ä½³å®è·µ
ä¸ç”¨var,ä¸»è¦ä½¿ç”¨const,è¾…åŠ©let

## æ•°ç»„çš„è§£æ„èµ‹å€¼

çœ‹ä»£ç 
```javascript
let [a,b,c] = [1,2,3] //a:1, b:2, c:3

let [a,,c] = [1,2,3] //a:1, c:3

let [a,b,c,d] = [1,2,3] //a:1, b:2, c:3 d:undefined

let [a,[b,c]] = [1,[2,3]] //a:1, b:2, c:3

let [a,...rest] = [1,2,3,4,5] //a:1 ,rest: [2,3,4,5]
let [,...rest] = [1,2,3,4,5] //rest: [2,3,4,5]

//å¯ä»¥è®¾å®šé»˜è®¤å€¼
let [a,b=3] = [1] //a:1, b:3

let path = '/home/work/promise'
let [,...promise] = path.split('/')
console.log(promise) //['home', 'work', 'promise']

```

## å¯¹è±¡çš„è§£æ„èµ‹å€¼
çœ‹ä»£ç 
```javascript
//ES2015ä»¥å‰
let person = {
  name: 'jack',
  age: 18
}

let name = person.name
let age = person.age

//ES2015ä»¥å
let person2 = {
  name: 'jack',
  age: 18
}
let {name,age} = person2
console.log(name,age)//'jack' 18

let person3 = {
  name: 'jack',
  age: 18
}
//åŒæ ·å¯ä»¥è®¾ç½®é»˜è®¤å€¼
let {name,age,gender='women'} = person3
console.log(gender)//'women'

//å¦‚æœæƒ³é‡æ–°è®¾ç½®å±æ€§å
let person4 = {
  name: 'jack',
  age: 18
}
let {name:name2,age} = person4
console.log(name2)// 'jack'
```

## æ¨¡æ¿å­—ç¬¦ä¸²
æ¨¡æ¿å­—ç¬¦ä¸²ç”±ä¸¤ä¸ªåå¼•å·`''`ç»„æˆ
#### ä¿ç•™æ ¼å¼
![img.png](../.vuepress/public/img/article/ES2015/string.png)
#### å˜é‡,è¡¨è¾¾å¼,å‡½æ•°
```javascript
let name = 'jack'
let age = 18

let str = `Hi, I am ${name},${age} years old.`
//'Hi, I am jack,18 years old.'
```
`${}`æ”¯æŒå†…æ”¯æŒjsè¡¨è¾¾å¼,JSè¿ç®—ç­‰
```javascript
let name = 'jack'
let name2 = 'nancy'
let age = 18
let age2 = 19
let gender = false

let str = `Hi, I am ${gender ? name: name2},${gender ? age : age2} years old.`
//'Hi, I am nancy,19 years old.'
```
æ¨¡æ¿å­—ç¬¦ä¸²å†…ä¹Ÿå¯ä»¥ä½¿ç”¨å‡½æ•°
```javascript
function person() {
  return 'jack'
}
let str = `Hi, I am ${person()},18 years old.`
//'Hi, I am jack,18 years old.'
```

#### æ ‡ç­¾æ¨¡æ¿
æ¨¡æ¿å­—ç¬¦ä¸²ç´§è·Ÿåœ¨ä¸€ä¸ªå‡½æ•°åé¢,ç§°ä¹‹ä¸ºæ ‡ç­¾æ¨¡æ¿(tagged template)
```javascript
let name = 'jack'
let age = 18
function myFn(params,...rest){
  console.log(params)
  console.log(rest)
}
let str = myFn`Hi, I am ${name},${age} years old.`
```
![img.png](../.vuepress/public/img/article/ES2015/string-template.png)  
æ ‡ç­¾å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²å½¢æˆçš„ä¸€ä¸ªæ•°ç»„,åŒ…å«è¢«`${}`åˆ†å¼€çš„å­—ç¬¦ä¸²,å’Œä¸å«`${}`çš„rawæ•°ç»„,å¦‚å›¾æ‰€ç¤º

## å­—ç¬¦ä¸²æ‰©å±•æ–¹æ³•
#### includes(),startWith(),endWith()
è¿™ä¸‰ä¸ªæ¯”è¾ƒå¸¸ç”¨
```javascript
let str = 'Hi, I am jack,18 years old.'
str.includes('18') // true
str.startsWith('am') // false
str.endsWith('old') //true
```
éœ€è¦æ³¨æ„çš„æ˜¯,è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½å¯¹å¤§å°å†™,ç©ºæ ¼æ•æ„Ÿ

## å‡½æ•°å‚æ•°é»˜è®¤å€¼,å‰©ä½™å‚æ•°
#### å‚æ•°é»˜è®¤å€¼
```javascript
function fn(data,obj = {}){
  console.log(obj,data)
}
fn(1) //1,{}
```
éœ€è¦æ³¨æ„çš„æ˜¯,å¸¦æœ‰é»˜è®¤å€¼çš„å‚æ•°å¿…é¡»æ”¾åœ¨æœ€åä¸€ä½,ä¸ç„¶é»˜è®¤å€¼ä¸ä¼šæ­£å¸¸å·¥ä½œ
```javascript
function fn(data,obj = {},age){
  console.log(obj,data,age)
}
fn(1,18) // 18 1 undefined
```
#### å‰©ä½™å‚æ•°

å½“å®šä¹‰å‡½æ•°æ—¶,å¦‚æœå‡½æ•°å‚æ•°çš„ä¸ªæ•°ä¸ç¡®å®šæ—¶,å¯ä»¥ä½¿ç”¨å‰©ä½™å‚æ•°æ¥è¡¨ç¤º
```javascript
function fn(data,...rest){
  console.log(data)
  console.log(rest)
}
fn('data',2,3,4,5,6) 
//data
//[2,3,4,5,6]
```

## ç®­å¤´å‡½æ•°
ç®­å¤´å‡½æ•°å¯ä»¥ç®€åŒ–æˆ‘ä»¬å£°æ˜å‡½æ•°çš„ä»£ç é‡,æé«˜ä»£ç å¯é˜…è¯»æ€§
```javascript
function fn (){
  console.log(123)
}
let fn = () => console.log(123)
```
ç®­å¤´å‡½æ•°çš„`return`å¯ä»¥éšè—
```javascript
let fn = v => v
//ç­‰åŒäº
function fn(v){
  return v
}
```
ç®­å¤´å‡½æ•°ä¼šæ”¹å˜thisçš„æŒ‡å‘
```javascript
let person = {
  name: 'jack',
  sayHi: function(){
    console.log(this.name,'name')
  }
}
person.sayHi()// 'jack' 'name'
```
è¿™æ—¶çš„`this`å°±ä¼šæŒ‡å‘è°ƒç”¨å®ƒçš„`person`  
å¦‚æœæˆ‘ä»¬æŠŠå®ƒæ”¹æˆç®­å¤´å‡½æ•°
```javascript
let person = {
  name: 'jack',
  sayHi: () => {
    console.log(this.name,'name')
  }
}
person.sayHi()// undefined 'name'
```

## å¯¹è±¡çš„éƒ¨åˆ†å¢å¼º
#### å­—é¢é‡å¢å¼º
```javascript
//ES2015ä»¥å‰
let foo = 'hello'
let obj = {
  name: 'jack',
  foo: foo,
  hello: function(){console.log('hello')}
}
obj[Math.random()] = 'random'

//ES2015å
let foo = 'hello'
let obj = {
  name: 'jack',
  foo,
  hello(){console.log('hello')},
  [Math.random()]: 'random'
}
```
#### æ–°å¢æ–¹æ³• Object.assign





































